
-- lists articles, providing categories of evidence (COE) information
-- as well as unprocessed lists of genes and drugs present in the abstract

create table cbs (
  pmid varchar2(20) primary key,
  title varchar2(2000),
  abs clob,
  genes varchar2(2000),
  drugs varchar2(2000),
  coes varchar2(50),
  evid_loc varchar2(50)
);

-- contains gene-drug pairs, and the number of articles containing
-- both in their abstract.

create table genedrug ( 
  id number(10,0) primary key, 
  gene varchar2(100), 
  drug varchar2(100),
  numarticles number(10,0) 
);

-- lists PMIDs associated with the gene-drug pairs from the
-- previous table.

create table dg_pmids (
  pmid varchar2(15),
  text clob,
  dg_id integer,
  foreign key (dg_id) references genedrug(id)
);

-- lists category of evidence associated with each article

create table dg_pmid_coes (
  pmid varchar2(15),
  coe varchar2(3)
);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (0,"GENE3","PKID1",1);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("2000",NULL,0);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (1,"GENE2","PKID1",2);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("1000",NULL,1);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("2000",NULL,1);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (2,"GENE2","PKID2",1);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("1000",NULL,2);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (3,"GENE4","PKID2",1);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("2000",NULL,3);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (4,"GENE1","PKID1",1);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("1000",NULL,4);
INSERT INTO genedrug(id,gene,drug,numarticles) VALUES (5,"GENE3","PKID2",2);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("1000",NULL,5);
INSERT INTO dg_pmids(pmid,text,dg_id) VALUES ("2000",NULL,5);
INSERT INTO cbs(pmid,title,abs,genes,drugs,coes,evid_loc) VALUES ("1000","TITLE1","ABSTRACT1","GENE1 GENE2 GENE3","PKID1 PKID2",NULL,NULL);
INSERT INTO cbs(pmid,title,abs,genes,drugs,coes,evid_loc) VALUES ("2000","TITLE2","ABSTRACT2","GENE2 GENE3 GENE4","PKID1 PKID2",NULL,NULL);
