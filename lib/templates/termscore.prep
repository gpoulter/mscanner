<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

  <title>MeSH Term Scores</title>

  <link rel="stylesheet" type="text/css" href="style.css"/>

</head>

<body>

<h1 id="heading">Feature Scores</h1>

<div id="body">

  <div class="box">

    <h2 class="heading">Summary of feature scores</h2>

    <p class="para"><b>Distinct features:</b> {{numterms}}</p>
    <p class="para"><b>Pseudocount:</b> {{pseudocount}}</p>

    <table id="summary">
      <thead>
        <tr>
          <th>Quantity</th><th>Positives</th><th>Negatives </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Number of documents</th><td>{{pdocs}}</td><td>{{ndocs}}</td>
        </tr>
        <tr>
          <th>Number of distinct features</th><td>{{pterms}}</td><td>{{nterms}}</td>
        </tr>
        <tr>
          <th>Total feature occurrences</th><td>{{int(poccurs)}}</td><td>{{int(noccurs)}}</td>
        </tr>
        <tr>
          <th>Terms per document</th><td>{{"%.3f" % pfreq}}</td><td>{{"%.3f" % nfreq}}</td>
        </tr>
      </tbody>
    </table>

  </div>

  <div class="box">

    <h2 class="heading">Calculation of the score for each feature</h2>

    <table id="termscores">

      <thead>
        <tr>
          <th>Term ID</th><th>Term</th><th>Type</th><th>Pos / Neg</th><th>Calculation</th><th>Score</th>
        </tr>
      </thead>

      <!-- score = (0=score,1=numerator,2=denominator,3=pcount,4=ncount,5=termid,6=feature,7=type) -->
      <tbody>
        {{for s in scores}}<tr><td>{{s[5]}}</td><td>{{s[6].encode("ascii","xmlcharrefreplace")}}</td><td>{{s[7]}}</td><td>{{int(s[3])}}/{{int(s[4])}}</td><td>ln({{"%.2e"%s[1]}}/{{"%.2e"%s[2]}})</td><td>{{"%.2f"%s[0]}}</td></tr>
      {{endfor}}</tbody>
      
    </table>

  </div>

</div>

</body>

</html>